<textarea id="input" style="width:100%;height:200px;font-family:monospace;" placeholder="Paste HTML, CSS, or JS..."></textarea>
<br>
<button onclick="minify({ code: document.getElementById('input').value, placeholders: [], strings: [] })">Minify</button>
<br><br>
<textarea id="output" style="width:100%;height:200px;font-family:monospace;" placeholder="Minified result..."></textarea>
<script>
let minify = (d) => {
    d.code = d.code.replace(/<(textarea|pre)[\s\S]*?<\/\1>/gi, (m)=>{d.placeholders.push(m); return `___PLACEHOLDER_${d.placeholders.length-1}___`;});
    d.code = d.code.replace(/(["'`])(?:\\[\s\S]|(?!\1).)*\1/g, (m)=>{d.strings.push(m); return `___STRING_${d.strings.length-1}___`;});
    d.code = d.code.replace(/\/\/.*$/gm, "");
    d.code = d.code.replace(/\s+/g," ");
    d.code = d.code.replace(/\s*([\^=+\-*/%<>!&|?:;,{}()[\]])\s*/g,"$1");
    d.code = d.code.replace(/[,;]\}/g,"}");
    d.code = d.code.trim();
    d.code = d.code.replace(/___STRING_(\d+)___/g,(m,i)=>d.strings[i]);
    d.code = d.code.replace(/___PLACEHOLDER_(\d+)___/g,(m,i)=>d.placeholders[i]);
    document.getElementById("output").value = d.code;
}
</script>