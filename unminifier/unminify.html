<textarea id="input" style="width:100%;height:200px;font-family:monospace;" placeholder="Paste minified HTML, CSS, or JS..."></textarea>
<br>
<button onclick="unminify({ tab: '    ', indent: 0, out: '', code: document.getElementById('input').value, inSingle: !1, inDouble: !1, inBacktick: !1 })">Unminify</button>
<br><br>
<textarea id="output" style="width:100%;height:200px;font-family:monospace;" placeholder="Formatted result..."></textarea>
<script>
    let unminify = (d) => {
        for (let i = 0; i < d.code.length; i++) {
            let c = d.code[i];
            if (!d.inSingle && !d.inDouble && !d.inBacktick) {
                if (c === "'") { d.inSingle = true; d.out += c; continue; }
                if (c === '"') { d.inDouble = true; d.out += c; continue; }
                if (c === '`') { d.inBacktick = true; d.out += c; continue; }
            } else {
                if (d.inSingle  && c === "'" && d.code[i-1] !== '\\') d.inSingle = false;
                if (d.inDouble  && c === '"' && d.code[i-1] !== '\\') d.inDouble = false;
                if (d.inBacktick && c === '`' && d.code[i-1] !== '\\') d.inBacktick = false;
                d.out += c;
                continue;
            }
            if (c === '{') {
                d.out += ' {\n' + d.tab.repeat(++d.indent);
            } else if (c === '}') {
                d.out += '\n' + d.tab.repeat(--d.indent) + '}';
                if (d.code[i+1] !== ';') d.out += '\n' + d.tab.repeat(d.indent);
            } else if (c === ';') {
                d.out += ';\n' + d.tab.repeat(d.indent);
            } else if (c === '<') {
                if (d.out.trim().length > 0) d.out += '\n';
                d.out += '<';
            } else d.out += c;
        }
        d.out = d.out.replace(/\n\s*\n/g, '\n');
        document.getElementById('output').value = d.out.trim();
    }
</script>